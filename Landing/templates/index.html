<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sellout - AI Sales Rep</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <!-- <div id="particle-canvas"></div> -->

    <header>
        <h1>Sellout</h1>
    </header>

    <div class="row">
        <section id="hero-section" class="column">
            <p>Create AI agent-run sales campaigns. <br><br> Ideation to first contact to call to close. <br><br> <strong>No human in the loop.</strong></p>
        </section>
        
        <section id="input-section" class="column">
            <form id="campaign-form" class="column">
                <input type="text" id="user-name" placeholder="Your Name">
                <input type="text" id="user-email" placeholder="Your Email">
                <input type="text" id="company-website" placeholder="Company Website">
                <input type="text" id="company-name" placeholder="Company Name">
                <textarea id="campaign-strategy" placeholder="Campaign Strategy"></textarea>
                <button type="submit">Launch Your AIgent Campaign</button>
            </form>
        </section>

    </div>

    <div class="row">
        <h5>Made by Ron Nachum, Vignav Ramesh, Agnim Agarwal, Michael Zhou, & Naomi Bashkansky @ AGI House</h5>
    </div>

  <script>
    document.getElementById('campaign-form').addEventListener('submit', function(e) {
    e.preventDefault();

    var userName = document.getElementById('user-name');
    var userEmail = document.getElementById('user-email');
    var companyWebsite = document.getElementById('company-website');
    var companyName = document.getElementById('company-name');
    var campaignStrategy = document.getElementById('campaign-strategy');
    var submitButton = document.querySelector('#campaign-form button');

    var companyWebsiteValue = companyWebsite.value;
    var companyNameValue = companyName.value;
    var campaignStrategyValue = campaignStrategy.value;

    // Disable the inputs and the button
    userName.disabled = true;
    userEmail.disabled = true;
    companyWebsite.disabled = true;
    companyName.disabled = true;
    campaignStrategy.disabled = true;
    submitButton.style.display = 'none';

    // Add a loading message and a gif
    var loadingMessage = document.createElement('p');
    loadingMessage.textContent = 'Processing...';
    var loadingGif = document.createElement('img');
    loadingGif.classList.add('loading-gif')
    loadingGif.src = "{{ url_for('static', filename='images/spinner.gif') }}"; // replace with your gif path
    submitButton.parentNode.appendChild(loadingMessage);
    submitButton.parentNode.appendChild(loadingGif);

    fetch('/start-ai', {
        method: 'POST',
        headers: {
        'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            user_name: userName.value,
            user_email: userEmail.value,
            company_website: companyWebsiteValue,
            company_name: companyNameValue,
            campaign_strategy: campaignStrategyValue,
        }),
    })
    .then(response => response.json())
    .then(data => console.log(data))
    .catch((error) => {
        console.error('Error:', error);
    });
    });
  </script>

    <script src="https://rawgit.com/JulianLaval/canvas-particle-network/master/particle-network.min.js"></script>
    <script>
    var canvasDiv = document.getElementById('particle-canvas');
    var options = {
        particleColor: '#888',
        interactive: true,
        speed: 'medium',
        density: 'high'
    };
    var particleCanvas = new ParticleNetwork(canvasDiv, options);
    </script>


</body>
</html>
